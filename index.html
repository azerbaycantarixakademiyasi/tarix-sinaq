<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Əmirbəyova Nərminə | İmtahan Portalı</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div id="quiz-container">
    <div class="header">
        <h1>Əmirbəyova Nərminə</h1>
        <p id="current-quiz-title" style="font-weight: bold; color: #1a5f7a;">Giriş gözlənilir...</p>
    </div>

    <div id="login-screen">
        <div id="student-login-area">
            <div class="welcome-msg">Şagird parolu ilə giriş edin</div>
            <input type="password" id="student-pass" placeholder="Parolunuzu daxil edin">
            <button onclick="loginStudent()">Giriş et</button>
        </div>

        <div id="quiz-selection-area" class="hidden">
            <h3 id="welcome-student"></h3>
            <p style="font-size: 14px; color: #666;">Sizin üçün aktiv olan sınağı seçin:</p>
            <select id="active-quizzes-select"></select>
            <button onclick="startQuiz()">Sınağa Başla</button>
        </div>
        
        <button onclick="showLogin()" class="secondary-btn" style="margin-top:20px;">Müəllim Girişi</button>
    </div>

    <div id="quiz-screen" class="hidden">
        <div id="timer">Qalan Vaxt: --:--</div>
        <div id="dynamic-questions"></div>
        <button onclick="finishQuiz()">Sınağı Bitir</button>
    </div>

    <div id="admin-login" class="hidden">
        <h3>Müəllim Girişi</h3>
        <input type="password" id="admin-password" placeholder="Parol">
        <button onclick="checkAdmin()">Giriş Et</button>
        <button onclick="hideLogin()" class="secondary-btn">Geri</button>
    </div>

    <div id="admin-panel" class="hidden">
        <div class="tabs">
            <button class="tab-btn active" onclick="openTab('results-tab')">Nəticələr</button>
            <button class="tab-btn" onclick="openTab('editor-tab')">Sınaqlar</button>
            <button class="tab-btn" onclick="openTab('students-tab')">Şagirdlər</button>
        </div>

        <div id="results-tab" class="tab-content">
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <h3>Şagird Nəticələri</h3>
                <button onclick="clearAllResults()" class="btn-delete" style="width:auto; padding:8px 15px;">Təmizlə</button>
            </div>
            <table>
                <thead><tr><th>Şagird</th><th>Düz</th><th>Səhv</th><th>Tarix</th></tr></thead>
                <tbody id="results-body"></tbody>
            </table>
        </div>

        <div id="editor-tab" class="tab-content hidden">
            <input type="text" id="new-quiz-name" placeholder="Sınaq Başlığı">
            <input type="number" id="new-quiz-time" placeholder="Müddət (dəqiqə)">
            <div id="question-inputs"></div>
            <button onclick="addNewQuestionRow()" class="add-btn">+ Yeni Sual</button>
            <button onclick="saveNewQuiz()" class="save-btn">Sınağı Arxivə Yaz</button>
            <hr>
            <h3>Sınaq Arxivi</h3>
            <div id="all-quizzes-list"></div>
        </div>

        <div id="students-tab" class="tab-content hidden">
            <h3>Yeni Şagird Əlavə Et</h3>
            <input type="text" id="new-student-name" placeholder="Ad Soyad">
            <input type="text" id="new-student-pass" placeholder="Parol">
            <button onclick="addNewStudent()" class="save-btn">Şagirdi Yadda Saxla</button>
            <hr>
            <h3>Şagird Siyahısı</h3>
            <div id="student-list-display"></div>
        </div>

        <button onclick="logoutAdmin()" class="secondary-btn" style="margin-top:20px;">Çıxış</button>
    </div>

    <div id="result-screen" class="hidden">
        <h2>Sınaq Bitdi!</h2>
        <p id="final-score"></p>
        <button onclick="location.reload()">Bağla</button>
    </div>
</div>

<footer class="site-footer">
    <p>Layihə rəhbəri: <span>Xədicə Abbaszadə</span></p>
</footer>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
<script src="script.js"></script>
</body>
</html>
